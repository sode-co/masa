package com.devlogs.masa_backend.domain.ports.sendmail;

import com.devlogs.masa_backend.common.Masa;

import java.text.SimpleDateFormat;
import java.util.Date;

public class RemindAppointmentEmail implements Email{
    private final String HTML_TEMPLATE = "<!DOCTYPE html><html lang=\"en\"><head>    <title> </title>    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />    <style type=\"text/css\">        #outlook a {            padding: 0;        }                body {            margin: 0;            padding: 0;            -webkit-text-size-adjust: 100%;            -ms-text-size-adjust: 100%;        }                table,        td {            border-collapse: collapse;            mso-table-lspace: 0pt;            mso-table-rspace: 0pt;        }                img {            border: 0;            height: auto;            line-height: 100%;            outline: none;            text-decoration: none;            -ms-interpolation-mode: bicubic;        }                p {            display: block;            margin: 13px 0;        }    </style>    <style type=\"text/css\">        @media only screen and (min-width: 480px) {            .mj-column-per-100 {                width: 100% !important;                max-width: 100%;            }            .mj-column-per-40 {                width: 40% !important;                max-width: 40%;            }            .mj-column-per-60 {                width: 60% !important;                max-width: 60%;            }        }    </style>    <style media=\"screen and (min-width:480px)\">        .moz-text-html .mj-column-per-100 {            width: 100% !important;            max-width: 100%;        }                .moz-text-html .mj-column-per-40 {            width: 40% !important;            max-width: 40%;        }                .moz-text-html .mj-column-per-60 {            width: 60% !important;            max-width: 60%;        }    </style>    <style type=\"text/css\">        @media only screen and (max-width: 480px) {            table.mj-full-width-mobile {                width: 100% !important;            }            td.mj-full-width-mobile {                width: auto !important;            }        }    </style>    <style type=\"text/css\">        p:first-child {            margin-top: 0px !important;        }                p:last-child {            margin-bottom: 0px !important;        }                .vdt_styles {}    </style></head><body style=\"word-spacing: normal; background-color: #f8f8f8\">    <div style=\"background-color: #f8f8f8\">        <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"background: #ffffff; background-color: #ffffff; width: 100%\">            <tbody>                <tr>                    <td>                        <div style=\"margin: 0px auto; max-width: 600px\">                            <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width: 100%\">                                <tbody>                                    <tr>                                        <td style=\"                          direction: ltr;                          font-size: 0px;                          padding: 30px;                          padding-bottom: 50px;                          padding-left: 30px;                          padding-right: 30px;                          padding-top: 30px;                          text-align: center;                        \">                                            <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"                            font-size: 0px;                            text-align: left;                            direction: ltr;                            display: inline-block;                            vertical-align: top;                            width: 100%;                          \">                                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" width=\"100%\">                                                    <tbody>                                                        <tr>                                                            <td style=\"vertical-align: top; padding: 0\">                                                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style width=\"100%\">                                                                    <tbody>                                                                        <tr>                                                                            <td align=\"center\" style=\"                                            font-size: 0px;                                            padding: 0;                                            padding-top: 0;                                            padding-right: 0;                                            padding-bottom: 20px;                                            padding-left: 0;                                            word-break: break-word;                                          \">                                                                                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"                                              border-collapse: collapse;                                              border-spacing: 0px;                                            \">                                                                                    <tbody>                                                                                        <tr>                                                                                            <td style=\"width: 420px\">                                                                                                <img height=\"auto\" src=\"https://i.imgur.com/Kwayhzl.jpg\" style=\"                                                      border: 0;                                                      display: block;                                                      outline: none;                                                      text-decoration: none;                                                      height: auto;                                                      width: 100%;                                                      font-size: 13px;                                                    \" width=\"420\" />                                                                                            </td>                                                                                        </tr>                                                                                    </tbody>                                                                                </table>                                                                            </td>                                                                        </tr>                                                                        <tr>                                                                            <td align=\"center\" style=\"                                            font-size: 0px;                                            padding: 30px 0px;                                            padding-top: 0px;                                            padding-right: 0px;                                            padding-bottom: 20px;                                            padding-left: 0px;                                            word-break: break-word;                                          \">                                                                                <div style=\"                                              font-family: Verdana;                                              font-size: 26px;                                              line-height: 1.5;                                              text-align: center;                                              color: #000000;                                            \">                                                                                    <span style=\"font-size: 24px\"><strong                                                >_meeting_title</strong                                              ></span                                            >                                          </div>                                        </td>                                      </tr>                                      <tr>                                        <td                                          align=\"center\"                                          style=\"                                            font-size: 0px;                                            padding: 10px;                                            padding-top: 0px;                                            padding-right: 0px;                                            padding-bottom: 0px;                                            padding-left: 0px;                                            word-break: break-word;                                          \"                                        >                                          <div                                            style=\"                                              font-family: Verdana;                                              font-size: 13px;                                              line-height: 1.4;                                              text-align: center;                                              color: #898a8d;                                            \"                                          >                                            Hi,<br />You have an appointment with _meeting_host_name at _meeting_time.                                          </div>                                        </td>                                      </tr>                                    </tbody>                                  </table>                                </td>                              </tr>                            </tbody>                          </table>                        </div>                      </td>                    </tr>                  </tbody>                </table>              </div>            </td>          </tr>        </tbody>      </table>      <div        style=\"          background: #f8f8f8;          background-color: #f8f8f8;          margin: 0px auto;          max-width: 600px;        \"      >        <table          align=\"center\"          border=\"0\"          cellpadding=\"0\"          cellspacing=\"0\"          role=\"presentation\"          style=\"background: #f8f8f8; background-color: #f8f8f8; width: 100%\"        >          <tbody>            <tr>              <td                style=\"                  direction: ltr;                  font-size: 0px;                  padding: 20px;                  padding-bottom: 0px;                  padding-left: 20px;                  padding-right: 20px;                  padding-top: 40px;                  text-align: center;                \"              >                <div                  class=\"mj-column-per-100 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"center\"                                  style=\"                                    font-size: 0px;                                    padding: 10px;                                    word-break: break-word;                                  \"                                >                                  <div                                    style=\"                                      font-family: Verdana;                                      font-size: 15px;                                      line-height: 1;                                      text-align: center;                                      color: #000000;                                    \"                                  >                                    <strong>Here is meeting information</strong>                                  </div>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>              </td>            </tr>          </tbody>        </table>      </div>      <div        style=\"          background: #f8f8f8;          background-color: #f8f8f8;          margin: 0px auto;          max-width: 600px;        \"      >        <table          align=\"center\"          border=\"0\"          cellpadding=\"0\"          cellspacing=\"0\"          role=\"presentation\"          style=\"background: #f8f8f8; background-color: #f8f8f8; width: 100%\"        >          <tbody>            <tr>              <td                style=\"                  direction: ltr;                  font-size: 0px;                  padding: 30px;                  padding-bottom: 20px;                  padding-left: 30px;                  padding-right: 30px;                  padding-top: 10px;                  text-align: center;                \"              >                <div                  class=\"mj-column-per-40 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"center\"                                  style=\"                                    font-size: 0px;                                    padding: 00px;                                    word-break: break-word;                                  \"                                >                                  <table                                    border=\"0\"                                    cellpadding=\"0\"                                    cellspacing=\"0\"                                    role=\"presentation\"                                    style=\"                                      border-collapse: collapse;                                      border-spacing: 0px;                                    \"                                  >                                    <tbody>                                      <tr>                                        <td style=\"width: 70px\">                                          <img                                            height=\"auto\"                                            src=\"https://cdn-icons-png.flaticon.com/512/2835/2835207.png\"                                            style=\"                                              border: 0;                                              display: block;                                              outline: none;                                              text-decoration: none;                                              height: auto;                                              width: 100%;                                              font-size: 13px;                                            \"                                            width=\"70\"                                          />                                        </td>                                      </tr>                                    </tbody>                                  </table>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>                <div                  class=\"mj-column-per-60 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"left\"                                  style=\"                                    font-size: 0px;                                    padding: 10px;                                    padding-top: 10px;                                    padding-right: 0px;                                    padding-bottom: 0px;                                    padding-left: 20%;                                    word-break: break-word;                                  \"                                >                                  <div                                    style=\"                                      font-family: Verdana;                                      font-size: 13px;                                      line-height: 1.4;                                      text-align: left;                                      color: #000000;                                    \"                                  >                                    <!-- User information -->                                    <strong>Mentor:</strong>                                    _meeting_host_name<br /><strong                                  </div>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>              </td>            </tr>          </tbody>        </table>      </div>      <div style=\"margin: 0px auto; max-width: 600px\">        <table          align=\"center\"          border=\"0\"          cellpadding=\"0\"          cellspacing=\"0\"          role=\"presentation\"          style=\"width: 100%\"        >          <tbody>            <tr>              <td                style=\"                  direction: ltr;                  font-size: 0px;                  padding: 30px;                  padding-bottom: 20px;                  padding-left: 30px;                  padding-right: 30px;                  padding-top: 0px;                  text-align: center;                \"              >                <div                  class=\"mj-column-per-40 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"center\"                                  style=\"                                    font-size: 0px;                                    padding: 0px;                                    word-break: break-word;                                  \"                                >                                  <table                                    border=\"0\"                                    cellpadding=\"0\"                                    cellspacing=\"0\"                                    role=\"presentation\"                                    style=\"                                      border-collapse: collapse;                                      border-spacing: 0px;                                    \"                                  >                                    <tbody>                                      <tr>                                        <td style=\"width: 70px\">                                          <img                                            height=\"auto\"                                            src=\"https://cdn-icons-png.flaticon.com/512/4994/4994830.png\"                                            style=\"                                              border: 0;                                              display: block;                                              outline: none;                                              text-decoration: none;                                              height: auto;                                              width: 100%;                                              font-size: 13px;                                            \"                                            width=\"70\"                                          />                                        </td>                                      </tr>                                    </tbody>                                  </table>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>                <div                  class=\"mj-column-per-60 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"left\"                                  style=\"                                    font-size: 0px;                                    padding: 10px;                                    padding-top: 10px;                                    padding-right: 0px;                                    padding-bottom: 0px;                                    padding-left: 20%;                                    word-break: break-word;                                  \"                                >                                  <div                                    style=\"                                      font-family: Verdana;                                      font-size: 13px;                                      line-height: 1.4;                                      text-align: left;                                      color: #000000;                                    \"                                  >                                    <strong>Meeting Description<br />                                        </strong>_meeting_description<strong><br /></strong>                                  </div>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>              </td>            </tr>          </tbody>        </table>      </div>      <div style=\"margin: 0px auto; max-width: 600px\">        <table          align=\"center\"          border=\"0\"          cellpadding=\"0\"          cellspacing=\"0\"          role=\"presentation\"          style=\"width: 100%\"        >          <tbody>            <tr>              <td                style=\"                  direction: ltr;                  font-size: 0px;                  padding: 30px;                  padding-bottom: 20px;                  padding-left: 30px;                  padding-right: 30px;                  padding-top: 0px;                  text-align: center;                \"              >                <div                  class=\"mj-column-per-40 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"center\"                                  style=\"                                    font-size: 0px;                                    padding: 0px;                                    word-break: break-word;                                  \"                                >                                  <table                                    border=\"0\"                                    cellpadding=\"0\"                                    cellspacing=\"0\"                                    role=\"presentation\"                                    style=\"                                      border-collapse: collapse;                                      border-spacing: 0px;                                    \"                                  >                                    <tbody>                                      <tr>                                        <td style=\"width: 90px\">                                          <img                                            height=\"auto\"                                            src=\"https://cdn-icons-png.flaticon.com/512/4994/4994696.png\"                                            style=\"                                              border: 0;                                              display: block;                                              outline: none;                                              text-decoration: none;                                              height: auto;                                              width: 100%;                                              font-size: 13px;                                            \"                                            width=\"90\"                                          />                                        </td>                                      </tr>                                    </tbody>                                  </table>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>                <div                  class=\"mj-column-per-60 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"justify\"                                  style=\"                                    font-size: 0px;                                    padding: 10px;                                    padding-top: 10px;                                    padding-right: 0px;                                    padding-bottom: 0px;                                    padding-left: 20%;                                    word-break: break-word;                                  \"                                >                                  <div                                    style=\"                                      font-family: Verdana;                                      font-size: 13px;                                      line-height: 1.4;                                      text-align: justify;                                      color: #000000;                                    \"                                  >                                    <!-- Platform information -->                                    <strong>Meeting: </strong                                    ><a                                      href=\"_meeting_url\"                                      target=\"_blank\"                                      rel=\"noopener\"                                      >_meeting_url</a                                    ><br/>                                    <strong>Time</strong>                                </strong>_meeting_time<strong><br /></strong>                                  </div>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>              </td>            </tr>          </tbody>        </table>      </div>      <div style=\"margin: 0px auto; max-width: 600px\">        <table          align=\"center\"          border=\"0\"          cellpadding=\"0\"          cellspacing=\"0\"          role=\"presentation\"          style=\"width: 100%\"        >          <tbody>            <tr>              <td                style=\"                  direction: ltr;                  font-size: 0px;                  padding: 20px;                  text-align: center;                \"              >                <div                  class=\"mj-column-per-100 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td style=\"vertical-align: top; padding: 0\">                          <table                            border=\"0\"                            cellpadding=\"0\"                            cellspacing=\"0\"                            role=\"presentation\"                            style                            width=\"100%\"                          >                            <tbody>                              <tr>                                <td                                  align=\"center\"                                  vertical-align=\"middle\"                                  style=\"                                    font-size: 0px;                                    padding: 0px;                                    padding-top: 0px;                                    padding-right: 0px;                                    padding-bottom: 0px;                                    padding-left: 0px;                                    word-break: break-word;                                  \"                                >                                  <table                                    border=\"0\"                                    cellpadding=\"0\"                                    cellspacing=\"0\"                                    role=\"presentation\"                                    style=\"                                      border-collapse: separate;                                      line-height: 100%;                                    \"                                  >                                    <tr>                                      <td                                        align=\"center\"                                        bgcolor=\"#E85C53\"                                        role=\"presentation\"                                        style=\"                                          border: none;                                          border-radius: 3px;                                          cursor: auto;                                          mso-padding-alt: 10px 25px;                                          background: #e85c53;                                        \"                                        valign=\"middle\"                                      >                                                                         </td>                                    </tr>                                  </table>                                </td>                              </tr>                            </tbody>                          </table>                        </td>                      </tr>                    </tbody>                  </table>                </div>              </td>            </tr>          </tbody>        </table>      </div>      <div style=\"margin: 0px auto; max-width: 600px\">        <table          align=\"center\"          border=\"0\"          cellpadding=\"0\"          cellspacing=\"0\"          role=\"presentation\"          style=\"width: 100%\"        >          <tbody>            <tr>              <td                style=\"                  direction: ltr;                  font-size: 0px;                  padding: 10px;                  padding-bottom: 0px;                  padding-left: 0px;                  padding-right: 0px;                  padding-top: 30px;                  text-align: center;                \"              >                <div                  class=\"mj-column-per-100 mj-outlook-group-fix\"                  style=\"                    font-size: 0px;                    text-align: left;                    direction: ltr;                    display: inline-block;                    vertical-align: top;                    width: 100%;                  \"                >                  <table                    border=\"0\"                    cellpadding=\"0\"                    cellspacing=\"0\"                    role=\"presentation\"                    style=\"vertical-align: top\"                    width=\"100%\"                  >                    <tbody>                      <tr>                        <td                          align=\"center\"                          style=\"                            font-size: 0px;                            padding: 10px 25px;                            padding-top: 10px;                            padding-right: 25px;                            padding-bottom: 30px;                            padding-left: 25px;                            word-break: break-word;                          \"                        >                          <div                            style=\"                              font-family: Verdana;                              font-size: 12px;                              font-weight: 500;                              line-height: 1.4;                              text-align: center;                              color: #9aa0a9;                            \"                          >                            <span style=\"color: #9aa0a9\"                              >Sent from guest.soma.autosend| </span                            ><a                              style=\"color: #9aa0a9\"                              href=\"{{url.contact_link}}\"                              >Contact us</a                            >                          </div>                        </td>                      </tr>                    </tbody>                  </table>                </div>              </td>            </tr>          </tbody>        </table>      </div>    </div>  </body></html>";
    private String subject;
    private String html;

    public RemindAppointmentEmail(String meetingUrl, String meetTitle, Long meetingTime, String meetDescription, String hostName) {
        Date date=new Date(meetingTime);
        SimpleDateFormat formatter = new SimpleDateFormat("hh:mm dd-M-yyyy ");
        String strDate = formatter.format(date);
        this.subject = "Join meeting with mentor: " + hostName;
        html = HTML_TEMPLATE;
        html = html.replace("_meeting_title", meetTitle);
        html = html.replace("_meeting_description", meetDescription);
        html = html.replace("_meeting_host_name", hostName);
        html = html.replace("_meeting_url", meetingUrl);
        html = html.replace("_meeting_time", strDate);
    }

    @Override
    public String getSubject() {
        return subject;
    }

    @Override
    public String getHtml() {
        return html;
    }

    @Override
    public String getMessage() {
        return "";
    }
}
